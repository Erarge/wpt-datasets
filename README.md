# Wireless EV Charging Dataset – OPEVA Project

This repository contains structured EV wireless charging session data collected for the **OPEVA** project by **ERARGE - Ergünler Ltd. Şti.** The data were collected using a static wireless charging testbench and grouped based on air gap distances and battery state-of-charge (SoC) levels.

The primary goal was to analyze real-time power transfer behavior and coil temperature performance under varying alignment and load conditions. When hardware limitations prevented direct measurement (e.g., charger tripping at large gaps), secondary-side values were partially synthesized using controlled estimation.

---

## Folder Structure

```
data/
├── 20mm/
│   ├── soc_20/
│   └── soc_80/
├── 40mm/
│   ├── soc_20/
│   └── soc_80/
├── 60mm/
│   └── soc_20/
├── 80mm/
│   └── soc_20/
└── session_parameters.csv
```

Each subfolder contains session CSV files labeled with session IDs and matching metadata entries in `session_parameters.csv`.

---

### Session Parameter Coding (`session_parameters.csv`)

Every row in \`\` maps a numeric *Session ID* to a concise six‑field code that fully describes the test conditions:

```text
Session ID,Parameters
1,1.1-2.1-3.1-4.1-5.1-6.1
```

| Field   | Possible Codes                        | Meaning                                                           |
| ------- | ------------------------------------- | ----------------------------------------------------------------- |
| **1.x** | **1.1**                               | Test location — *Umraniye* (only location used)                   |
| **2.x** | **2.1** / **2.2** / **2.3**           | Time‑of‑day — *Morning*, *Noon*, *Evening*                        |
| **3.x** | **3.1** / **3.2**                     | Target SoC — *20 %* / *80 %*                                      |
| **4.x** | **4.1** / **4.2** / **4.3** / **4.4** | Coil gap — *20 mm*, *40 mm*, *60 mm*, *80 mm*                     |
| **5.x** | **5.1** / **5.2**                     | Coil configuration — *Single* / *Multiple*                        |
| **6.x** | **6.1** / **6.2** / **6.3** / **6.4** | Planned session length — *30 min*, *60 min*, *240 min*, *480 min* |

*Example*: the parameter string "1.1-2.1-3.1-4.1-5.1-6.1" represents a **30‑minute Morning session** at *Umraniye*, starting at **20 % SoC**, with a **20 mm** gap, **single‑coil** configuration.

---

## Experimental Setup

* **Nominal operating gap:** 20 mm

* **Load:** Third-party Li-ion charger connected to a resistive load

* **SoC 20% operation:** Constant 48V, 30A output

* **SoC 80% operation:** Charger outputs based on the following step plan at 54V:

  | Current (A) | ΔSoC (%) |
  | ----------- | -------- |
  | 24          | 6%       |
  | 19          | 5%       |
  | 14          | 5%       |
  | 9           | 4%       |

* **Assumed Battery specs (for step plan):**

  * Type: LFP
  * Nominal: 48V
  * Max Voltage: 54V
  * Capacity: 326 Ah
  * Max Charging Current: 35 A

### Operating Summary

| Gap   | SoC 20%                                    | SoC 80%                    |
| ----- | ------------------------------------------ | -------------------------- |
| 20 mm | ✅ Full sessions                            | ✅ Full step plan           |
| 40 mm | ✅ Full sessions                            | ⚠️ Limited to 54V / 9A max |
| 60 mm | ✅ Real pri/sin input, synthetic `a_sout_a` |                            |
| 80 mm | ✅ Real pri/sin input, synthetic `a_sout_a` |                            |

---

## Dataset Columns

Each dataset CSV contains the following fields:

| Column        | Unit     | Description                                                 |
| ------------- | -------- | ----------------------------------------------------------- |
| `index`       | —        | Row number (autogenerated)                                  |
| `location`    | —        | Test location                                               |
| `time_of_day` | —        | Morning / Noon / Evening                                    |
| `soc`         | %        | 20% or 80%                                                  |
| `distance`    | mm       | Coil gap distance                                           |
| `coil_type`   | —        | Single or Double                                            |
| `duration`    | minutes  | Session duration                                            |
| `v_pri_v`     | V        | **Grid supply voltage** (input to primary inverter)         |
| `a_pri_a`     | A        | **Grid supply current** (input to primary inverter)         |
| `v_sin_v`     | V        | Rectified secondary voltage (input to battery‑charger unit) |
| `a_sin_a`     | A        | Rectified secondary current (input to battery‑charger unit) |
| `v_sout_v`    | V        | Charger output voltage                                      |
| `a_sout_a`    | A        | Charger output current (estimated for 60/80 mm)             |
| `t_coil_c`    | °C       | Primary coil temperature                                    |
| `t_ambiant_c` | °C       | Ambient lab temperature                                     |
| `timestamp`   | ISO 8601 | Timestamps (UTC+3, 5s intervals)                            |

### Machine‑Readable Schema (`data/columns.json`)

For automated validation and data‑pipeline integration, the same schema is provided in **JSON** format at `data/columns.json`. Example usage:

```python
import json, pandas as pd

with open('data/columns.json', 'r', encoding='utf‑8') as f:
    schema = json.load(f)

sample = pd.read_csv('data/20mm/soc_20/Wireless_Charging_Log_Session_001.csv')
assert list(sample.columns) == list(schema.keys()), "Column mismatch!"
```

The JSON file contains one object per column with `unit` and `description` fields.

```json
{
  "index":        { "unit": null,     "description": "Row number (autogenerated)" },
  "location":     { "unit": null,     "description": "Test location" },
  "time_of_day":  { "unit": null,     "description": "Morning / Noon / Evening" },
  "soc":          { "unit": "%",      "description": "20 or 80" },
  "distance":     { "unit": "mm",     "description": "Coil gap distance" },
  "coil_type":    { "unit": null,     "description": "Single or Double" },
  "duration":     { "unit": "minutes","description": "Session duration" },
  "v_pri_v":      { "unit": "V",      "description": "Grid supply voltage" },
  "a_pri_a":      { "unit": "A",      "description": "Grid supply current" },
  "v_sin_v":      { "unit": "V",      "description": "Rectified secondary voltage (charger input)" },
  "a_sin_a":      { "unit": "A",      "description": "Rectified secondary current (charger input)" },
  "v_sout_v":     { "unit": "V",      "description": "Charger output voltage" },
  "a_sout_a":     { "unit": "A",      "description": "Charger output current" },
  "t_coil_c":     { "unit": "°C",     "description": "Primary coil temperature" },
  "t_ambiant_c":  { "unit": "°C",     "description": "Ambient lab temperature" },
  "timestamp":    { "unit": "ISO 8601","description": "UTC+3, 5 s intervals" }
}
```

## Synthetic Data Explanation (60mm / 80mm – SoC 20%)

At 60 mm and 80 mm gaps, the third-party charger could not operate reliably. For these cases:

1. **Base Datasets:**  10-minute sessions were recorded at 60 mm and 80 mm gaps with the third-party charger removed. These base datasets provided the actual `v_pri_v`, `a_pri_a`, `v_sin_v`, and `a_sin_a` values used during generation. The system stabilized within 30 seconds, confirming steady-state conditions for valid sampling.

2. **Efficiency Estimation:** Efficiency was derived from 20 mm SoC 20% datasets using:

   $$
   \eta_{\text{charger}} = \frac{P_{\text{sout}}}{P_{\text{sin}}}
   $$

   A normal distribution was fitted to the derived efficiencies and sampled to generate each row.

3. **Synthetic Output:**

   * `v_sout_v` was fixed at **48V**
   * `a_sout_a` was calculated as:

$$
a_{\text{sout\_a}} = \frac{P_{\text{sin}} \times \eta_{\text{charger}}}{48}
$$

4. **Input Data Source:** `v_pri_v`, `a_pri_a`, `v_sin_v`, and `a_sin_a` were directly sampled row-by-row from real 10-minute runs performed at **60 mm** and **80 mm** respectively.


---

## Quick Preview Example

Below is a minimal code snippet to load a sample session and display its first few rows:

```python
import pandas as pd

df = pd.read_csv('data/20mm/soc_20/Wireless_Charging_Log_Session_001.csv')
print(df.head())
```

**Expected output (first 5 rows):**

| index | location | time\_of\_day | soc | distance | coil\_type | duration | v\_pri\_v | a\_pri\_a | v\_sin\_v | a\_sin\_a | v\_sout\_v | a\_sout\_a | t\_coil\_c | t\_ambiant\_c | timestamp           |
| ----- | -------- | ------------- | --- | -------- | ---------- | -------- | --------- | --------- | --------- | --------- | ---------- | ---------- | ---------- | ------------- | ------------------- |
| 0     | Umraniye | Morning       | 20% | 20       | Single     | 30       | 212       | 7.9       | 162       | 10.4      | 48         | 30         | 15         | 13            | 2025‑03‑18 09:21:18 |
| 1     | Umraniye | Morning       | 20% | 20       | Single     | 30       | 210       | 7.9       | 162       | 9.6       | 48         | 30         | 15         | 13            | 2025‑03‑18 09:21:23 |
| 2     | Umraniye | Morning       | 20% | 20       | Single     | 30       | 212       | 8.1       | 162       | 9.6       | 48         | 30         | 15         | 13            | 2025‑03‑18 09:21:28 |
| 3     | Umraniye | Morning       | 20% | 20       | Single     | 30       | 208       | 8.1       | 162       | 10.3      | 48         | 30         | 16         | 15            | 2025‑03‑18 09:21:33 |
| 4     | Umraniye | Morning       | 20% | 20       | Single     | 30       | 212       | 7.7       | 162       | 10.6      | 48         | 30         | 19         | 16            | 2025‑03‑18 09:21:38 |

This preview confirms the column order and sample values without requiring users to run any extra code.

---

## License & Acknowledgments

This dataset is part of the **OPEVA** project and property of **ERARGE - Ergünler Ltd. Şti.**
Use is permitted for research and development with attribution.

> Cite as:
> **Wireless Charging System Dataset for EVs** — OPEVA Project, ERARGE - Ergünler Ltd. Şti. (2025)
